# ============================================================================
# AI IMMUNE SYSTEM - Environment Configuration
# 3-Tier defense against false positives and cascade failures
# ============================================================================

# Service Configuration
SERVICE_NAME=ai_immune_system
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8014
LOG_LEVEL=INFO

# Tier 1: Circuit Breaker Configuration
DEFAULT_FAILURE_THRESHOLD=5
DEFAULT_TIMEOUT_SECONDS=60.0
DEFAULT_HALF_OPEN_MAX_CALLS=1
DEFAULT_SUCCESS_THRESHOLD=2

# Tier 2: Consensus Validation Configuration
CONSENSUS_THRESHOLD=0.6  # 60% agreement required
MIN_VALIDATORS=3
MAX_VALIDATORS=5
VALIDATOR_TIMEOUT=5.0  # seconds

# Tier 3: Adaptive Learning Configuration
LEARNING_RATE=0.1
MIN_INCIDENTS_FOR_RULE=3
RULE_CONFIDENCE_THRESHOLD=0.7
MAX_SUPPRESSION_RULES=100

# Threshold Adjustment Limits
MAX_THRESHOLD_INCREASE=0.5
MIN_THRESHOLD_VALUE=0.1
MAX_THRESHOLD_VALUE=10.0

# False Positive Learning Window
FP_SLIDING_WINDOW_SIZE=100
FP_RATE_CALCULATION_INTERVAL=3600  # 1 hour

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9014

# API Security
API_KEY_ENABLED=false
API_KEY=your-secret-api-key-here

# Database (for persistence - optional)
DATABASE_ENABLED=false
DATABASE_URL=postgresql://user:password@localhost:5432/ai_immune_system

# Redis (for distributed state - optional)
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0

# Logging
LOG_FORMAT=json
LOG_FILE=/var/log/ai_immune_system/service.log
LOG_ROTATION=1d
LOG_RETENTION=30d

# Development Mode
DEBUG_MODE=false
ENABLE_CORS=true
CORS_ORIGINS=["http://localhost:3000", "http://localhost:8080"]

# Integration URLs
PREFRONTAL_CORTEX_URL=http://prefrontal_cortex_service:8011
DIGITAL_THALAMUS_URL=http://digital_thalamus_service:8012
NARRATIVE_FILTER_URL=http://narrative_manipulation_filter:8013

# Sensory Services
VISUAL_CORTEX_URL=http://visual_cortex_service:8006
AUDITORY_CORTEX_URL=http://auditory_cortex_service:8007
SOMATOSENSORY_CORTEX_URL=http://somatosensory_cortex_service:8008
CHEMICAL_SENSING_URL=http://chemical_sensing_service:8009
VESTIBULAR_SYSTEM_URL=http://vestibular_service:8010
