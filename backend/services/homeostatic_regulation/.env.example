# ============================================================================
# HOMEOSTATIC REGULATION - Environment Configuration
# Global system health monitoring and safety boundaries
# ============================================================================

# Service Configuration
SERVICE_NAME=homeostatic_regulation
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8015
LOG_LEVEL=INFO

# Homeostatic Regulation Settings
REGULATION_INTERVAL=10.0  # Control loop interval in seconds
ENABLE_AUTO_START=true    # Auto-start regulation on service startup

# Homeostatic Setpoints
SETPOINT_ACTIVITY_RATE=100.0        # Expected activity rate (requests/min)
SETPOINT_ERROR_RATE=0.01            # Expected error rate (1%)
SETPOINT_CPU_USAGE=50.0             # Expected CPU usage (%)
SETPOINT_MEMORY_USAGE=60.0          # Expected memory usage (%)
SETPOINT_RESPONSE_TIME=0.5          # Expected response time (seconds)
SETPOINT_PAIN_EVENTS=2.0            # Expected pain events per minute
SETPOINT_BITTER_RATE=0.1            # Expected bitter payload rate (10%)
SETPOINT_MANIPULATION_ALERTS=1.0    # Expected manipulation alerts per minute
SETPOINT_CIRCUIT_BREAKERS=0.0       # Expected open circuit breakers

# Deviation Thresholds
DEVIATION_WARNING_THRESHOLD=0.2     # 20% deviation → Warning
DEVIATION_ELEVATED_THRESHOLD=0.4    # 40% deviation → Elevated
DEVIATION_STRESSED_THRESHOLD=0.6    # 60% deviation → Stressed
DEVIATION_CRITICAL_THRESHOLD=0.8    # 80% deviation → Critical
DEVIATION_EMERGENCY_THRESHOLD=1.0   # 100% deviation → Emergency

# Red Line Triggers Configuration
REDLINE_PAIN_CASCADE_THRESHOLD=5.0           # Acute pains in window
REDLINE_PAIN_CASCADE_WINDOW=60.0             # Window in seconds

REDLINE_BITTER_PAYLOAD_THRESHOLD=0.5         # 50% bitter rate
REDLINE_BITTER_PAYLOAD_WINDOW=300.0          # 5 minutes

REDLINE_SPIN_OUT_THRESHOLD=0.9               # Stability threat level
REDLINE_SPIN_OUT_WINDOW=10.0                 # 10 seconds

REDLINE_MANIPULATION_THRESHOLD=10.0          # CRITICAL alerts
REDLINE_MANIPULATION_WINDOW=60.0             # 1 minute

REDLINE_CONSENSUS_FAILURE_THRESHOLD=0.3      # 30% rejection rate
REDLINE_CONSENSUS_FAILURE_WINDOW=600.0       # 10 minutes

REDLINE_RESOURCE_EXHAUSTION_THRESHOLD=95.0   # 95% usage
REDLINE_RESOURCE_EXHAUSTION_WINDOW=30.0      # 30 seconds

REDLINE_CASCADE_FAILURE_THRESHOLD=3.0        # Open circuits
REDLINE_CASCADE_FAILURE_WINDOW=60.0          # 1 minute

# Multiple Red Line Emergency Shutdown
EMERGENCY_SHUTDOWN_VIOLATION_COUNT=3         # Shutdown if >= 3 red lines violated

# Regulatory Action Thresholds
ACTION_THROTTLE_THRESHOLD=0.6        # Throttle at 60% deviation
ACTION_VALIDATION_THRESHOLD=0.7      # Increase validation at 70%
ACTION_CIRCUIT_THRESHOLD=0.8         # Trip circuits at 80%
ACTION_HUMAN_THRESHOLD=0.9           # Request human oversight at 90%

# Service Integration URLs
VISUAL_CORTEX_URL=http://visual_cortex_service:8006
AUDITORY_CORTEX_URL=http://auditory_cortex_service:8007
SOMATOSENSORY_CORTEX_URL=http://somatosensory_cortex_service:8008
CHEMICAL_SENSING_URL=http://chemical_sensing_service:8009
VESTIBULAR_SYSTEM_URL=http://vestibular_service:8010
PREFRONTAL_CORTEX_URL=http://prefrontal_cortex_service:8011
DIGITAL_THALAMUS_URL=http://digital_thalamus_service:8012
NARRATIVE_FILTER_URL=http://narrative_manipulation_filter:8013
AI_IMMUNE_SYSTEM_URL=http://ai_immune_system:8014

# Service Endpoints
HEALTH_CHECK_INTERVAL=30.0           # Health check interval (seconds)
METRICS_COLLECTION_TIMEOUT=5.0       # Timeout for metrics collection
MAX_RETRIES=3                        # Max retries for service calls

# Prometheus Metrics
METRICS_ENABLED=true
METRICS_PORT=9015

# Historical Data
MAX_DEVIATION_HISTORY=1000           # Max deviation records to keep
MAX_VIOLATION_HISTORY=500            # Max violation records to keep
HISTORY_CLEANUP_INTERVAL=3600.0      # Cleanup old records every hour

# Alert Configuration
ENABLE_CRITICAL_ALERTS=true
ALERT_COOLDOWN_SECONDS=300.0         # 5 minutes between duplicate alerts

# Emergency Override
REQUIRE_HUMAN_AUTHORIZATION=true     # Require human auth for override
OVERRIDE_TIMEOUT_SECONDS=300.0       # Override expires after 5 minutes

# Development/Debug
DEBUG_MODE=false
VERBOSE_LOGGING=false
SIMULATE_METRICS=false               # For testing without real services
