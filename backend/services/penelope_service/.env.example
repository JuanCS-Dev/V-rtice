# PENELOPE (Christian Autonomous Healing Service) - Environment Configuration
# Copy this file to .env and fill in the values

# ============================================================================
# SERVICE CONFIGURATION
# ============================================================================
SERVICE_NAME=penelope
SERVICE_HOST=0.0.0.0
SERVICE_PORT=8154
SERVICE_VERSION=1.0.0
ENVIRONMENT=development

# ============================================================================
# MAXIMUS INTEGRATION
# ============================================================================
# URL to MAXIMUS Core Service (auto-discovered via registry in production)
MAXIMUS_ENDPOINT=http://vertice-maximus-core-service:8150

# ============================================================================
# SERVICE REGISTRY
# ============================================================================
VERTICE_REGISTRY_URL=http://vertice-register-lb:80
VERTICE_REGISTRY_TOKEN=titanium-registry-token
REGISTRY_HEARTBEAT_INTERVAL=30

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL (shared with MAXIMUS)
POSTGRES_HOST=vertice-postgres
POSTGRES_PORT=5432
POSTGRES_DB=vertice
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================
REDIS_HOST=vertice-redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}

# ============================================================================
# ANTHROPIC API (for Causal AI and patch generation)
# ============================================================================
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# ============================================================================
# OBSERVABILITY CLIENTS
# ============================================================================
# Prometheus (for metrics and anomaly detection)
PROMETHEUS_URL=http://prometheus:9090

# Loki (for log aggregation and analysis)
LOKI_URL=http://loki:3100

# Grafana (optional, for dashboards)
GRAFANA_URL=http://grafana:3000

# ============================================================================
# WISDOM BASE CONFIGURATION
# ============================================================================
# Wisdom Base storage backend (inmemory, postgresql, or chromadb)
WISDOM_BASE_BACKEND=inmemory

# ChromaDB (vector database for precedent similarity search)
# Only used if WISDOM_BASE_BACKEND=chromadb
CHROMADB_HOST=vertice-chromadb
CHROMADB_PORT=8000
CHROMADB_COLLECTION=penelope_wisdom_base

# ============================================================================
# SOPHIA ENGINE (SABEDORIA)
# ============================================================================
# Minimum confidence threshold for interventions (0.0 - 1.0)
SOPHIA_CONFIDENCE_THRESHOLD=0.85

# Transient failure wait time (minutes)
TRANSIENT_FAILURE_THRESHOLD_MINUTES=5

# Risk tolerance (0.0 - 1.0)
SOPHIA_RISK_TOLERANCE=0.3

# ============================================================================
# PRAOTES VALIDATOR (MANSIDÃO)
# ============================================================================
# Maximum patch size (lines)
PRAOTES_MAX_PATCH_LINES=25

# Minimum reversibility score (0.0 - 1.0)
PRAOTES_MIN_REVERSIBILITY_SCORE=0.90

# Maximum functions modified per patch
PRAOTES_MAX_FUNCTIONS_MODIFIED=3

# ============================================================================
# TAPEINOPHROSYNE MONITOR (HUMILDADE)
# ============================================================================
# Minimum confidence threshold for autonomous action (0.0 - 1.0)
TAPEINOPHROSYNE_CONFIDENCE_THRESHOLD=0.85

# Minimum historical cases to consider domain "known"
TAPEINOPHROSYNE_MIN_KNOWN_CASES=5

# ============================================================================
# SABBATH CONFIGURATION
# ============================================================================
# Sabbath observance enabled (true/false)
SABBATH_MODE_ENABLED=true

# Sabbath day (0=Monday, 6=Sunday)
SABBATH_DAY=6

# Allow read-only operations on Sabbath (true/false)
SABBATH_ALLOW_READONLY=true

# ============================================================================
# DIGITAL TWIN VALIDATION
# ============================================================================
# Digital twin environment URL (for pre-production patch testing)
DIGITAL_TWIN_URL=http://vertice-digital-twin:8200

# Validation timeout (seconds)
DIGITAL_TWIN_VALIDATION_TIMEOUT=600

# Minimum validation period before production deploy (minutes)
DIGITAL_TWIN_MIN_VALIDATION_PERIOD=10

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json

# Biblical reflection verbosity (true/false)
LOG_BIBLICAL_REFLECTIONS=true

# ============================================================================
# PROMETHEUS METRICS
# ============================================================================
METRICS_PORT=9090
METRICS_ENDPOINT=/metrics

# ============================================================================
# SECURITY
# ============================================================================
# API Key for PENELOPE endpoints (optional, for extra security)
PENELOPE_API_KEY=

# Allowed origins for CORS
CORS_ORIGINS=http://localhost:5173,http://localhost:3000,http://localhost:8000

# ============================================================================
# PERFORMANCE
# ============================================================================
# Request timeout (seconds)
REQUEST_TIMEOUT=300

# Max request size (bytes)
MAX_REQUEST_SIZE=10485760

# Worker processes
WORKER_PROCESSES=1

# ============================================================================
# 7 BIBLICAL ARTICLES GOVERNANCE
# ============================================================================
# Enforce 7 Biblical Articles (true/false)
BIBLICAL_GOVERNANCE_ENABLED=true

# Artigo I - Sabedoria (Sophia)
ARTICLE_I_ENABLED=true

# Artigo II - Mansidão (Praotes)
ARTICLE_II_ENABLED=true

# Artigo III - Humildade (Tapeinophrosyne)
ARTICLE_III_ENABLED=true

# Artigo IV - Mordomia (Stewardship)
ARTICLE_IV_ENABLED=true

# Artigo V - Amor (Agape)
ARTICLE_V_ENABLED=true

# Artigo VI - Sabbath (Rest)
ARTICLE_VI_ENABLED=true

# Artigo VII - Verdade (Aletheia)
ARTICLE_VII_ENABLED=true

# ============================================================================
# 9 FRUTOS DO ESPÍRITO (GÁLATAS 5:22-23)
# ============================================================================
# Target score for each fruit (0.0 - 1.0)
FRUITS_TARGET_SCORE=0.85

# Minimum healthy fruits count (out of 9)
FRUITS_MIN_HEALTHY=7

# Fruits monitoring interval (seconds)
FRUITS_MONITORING_INTERVAL=60
