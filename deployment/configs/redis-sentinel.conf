# Redis Sentinel Configuration
# VÃ‰RTICE Platform - High Availability Setup
# FASE 2: Redis HA with Sentinel

port 26379

# Monitor the Redis master named 'mymaster'
# Format: sentinel monitor <master-name> <ip> <port> <quorum>
# Quorum = 2: Need 2 sentinels to agree on master failure
# Using static IP to avoid DNS resolution issues at boot
sentinel monitor mymaster 172.30.0.10 6379 2

# Master is considered down after 5 seconds of no response
sentinel down-after-milliseconds mymaster 5000

# Timeout for failover operation
sentinel failover-timeout mymaster 10000

# How many replicas can sync with new master simultaneously
# 1 = safer (less load), but slower recovery
sentinel parallel-syncs mymaster 1

# Sentinel authentication (if needed)
# sentinel auth-pass mymaster yourpassword

# Notification scripts (optional)
# sentinel notification-script mymaster /path/to/notify.sh
# sentinel client-reconfig-script mymaster /path/to/reconfig.sh

# Logging
loglevel notice
logfile ""

# Sentinel runs in protected mode by default
# Disable for development (enable for production with proper firewall)
protected-mode no
