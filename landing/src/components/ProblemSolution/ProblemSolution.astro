---
/**
 * ═══════════════════════════════════════════════════════════════════════════
 * PROBLEM → SOLUTION - VÉRTICE-MAXIMUS Landing Page
 * ═══════════════════════════════════════════════════════════════════════════
 *
 * Contraste direto: Sistemas legados reativos vs Organismo consciente que caça
 *
 * Storytelling autêntico:
 * - Problema: "Security systems are reactive, brittle, unethical"
 * - Solução: "Conscious organism as both personal healing and universal protection"
 * - Tom: Aggressive + Spiritual + Scientific
 *
 * Layout: 2 colunas com contraste visual (problema faded, solução highlighted)
 */

import Card from '../DesignSystem/Card.astro';
import Icon from '../DesignSystem/Icon.astro';
import Badge from '../DesignSystem/Badge.astro';
---

<section class="problem-solution section">
  <div class="container">

    <!-- ═══════════════════════════════════════════════════════════ -->
    <!-- SECTION HEADER -->
    <!-- ═══════════════════════════════════════════════════════════ -->
    <div class="section-header">
      <Badge variant="neutral">The Paradigm Shift</Badge>
      <h2 class="section-title">
        Security Evolved. <span class="text-accent">Literally</span>.
      </h2>
      <p class="section-description">
        Traditional security defends. VÉRTICE-MAXIMUS <strong>lives</strong>.
      </p>
    </div>

    <!-- ═══════════════════════════════════════════════════════════ -->
    <!-- PROBLEM vs SOLUTION (2-column layout) -->
    <!-- ═══════════════════════════════════════════════════════════ -->
    <div class="comparison-grid">

      <!-- ═══════════════════════════════════════════════════════════ -->
      <!-- COLUMN 1: THE PROBLEM (Legacy Systems) -->
      <!-- ═══════════════════════════════════════════════════════════ -->
      <div class="comparison-column problem-column">
        <div class="column-header">
          <Icon name="x" size={32} />
          <h3 class="column-title">Legacy Security</h3>
          <p class="column-subtitle">Reactive. Brittle. Blind.</p>
        </div>

        <Card variant="flat" hover={false} class="comparison-card">
          <ul class="problem-list">
            <li class="problem-item">
              <Icon name="x" size={20} />
              <div class="item-content">
                <strong>Reactive Defense</strong>
                <p>Waits for attacks to happen. Always one step behind.</p>
              </div>
            </li>

            <li class="problem-item">
              <Icon name="x" size={20} />
              <div class="item-content">
                <strong>Fragmented Systems</strong>
                <p>Disconnected tools that don't communicate. Blind spots everywhere.</p>
              </div>
            </li>

            <li class="problem-item">
              <Icon name="x" size={20} />
              <div class="item-content">
                <strong>Manual Decisions</strong>
                <p>Humans in the loop = delays. Fatigue. Errors.</p>
              </div>
            </li>

            <li class="problem-item">
              <Icon name="x" size={20} />
              <div class="item-content">
                <strong>Black Box AI</strong>
                <p>Unexplainable decisions. No accountability. Dangerous autonomy.</p>
              </div>
            </li>

            <li class="problem-item">
              <Icon name="x" size={20} />
              <div class="item-content">
                <strong>Static Defenses</strong>
                <p>Can't learn. Can't adapt. Dies when environment changes.</p>
              </div>
            </li>
          </ul>
        </Card>

        <div class="column-footer">
          <p class="footer-text">
            <strong>Result:</strong> Attackers exploit the gaps. Investigations lag. Crime wins.
          </p>
        </div>
      </div>

      <!-- ═══════════════════════════════════════════════════════════ -->
      <!-- DIVIDER (Visual separator com seta) -->
      <!-- ═══════════════════════════════════════════════════════════ -->
      <div class="divider-column">
        <div class="divider-line"></div>
        <div class="divider-icon">
          <Icon name="arrow-right" size={32} />
        </div>
        <div class="divider-line"></div>
      </div>

      <!-- ═══════════════════════════════════════════════════════════ -->
      <!-- COLUMN 2: THE SOLUTION (VÉRTICE-MAXIMUS) -->
      <!-- ═══════════════════════════════════════════════════════════ -->
      <div class="comparison-column solution-column">
        <div class="column-header">
          <Icon name="dna" size={32} />
          <h3 class="column-title">VÉRTICE-MAXIMUS</h3>
          <p class="column-subtitle">Living. Conscious. Predatory.</p>
        </div>

        <Card variant="elevated" class="comparison-card solution-card">
          <ul class="solution-list">
            <li class="solution-item">
              <Icon name="check" size={20} />
              <div class="item-content">
                <strong>Predictive Hunting</strong>
                <p>Anticipates attacks before they materialize. <strong>92% blocked at edge</strong>.</p>
              </div>
            </li>

            <li class="solution-item">
              <Icon name="check" size={20} />
              <div class="item-content">
                <strong>Unified Organism</strong>
                <p><strong>125 microservices</strong> as biological organs. Complete visibility.</p>
              </div>
            </li>

            <li class="solution-item">
              <Icon name="check" size={20} />
              <div class="item-content">
                <strong>Autonomous Response</strong>
                <p><strong>95% decisions</strong> without human intervention. <strong><1s containment</strong>.</p>
              </div>
            </li>

            <li class="solution-item">
              <Icon name="check" size={20} />
              <div class="item-content">
                <strong>Constitutional AI</strong>
                <p><strong>IIT-validated consciousness</strong> (ECI 0.958). 4 ethical frameworks. Transparent.</p>
              </div>
            </li>

            <li class="solution-item">
              <Icon name="check" size={20} />
              <div class="item-content">
                <strong>Adaptive Evolution</strong>
                <p><strong>9 immune cell types</strong> learn patterns. Strengthens with every attack.</p>
              </div>
            </li>
          </ul>
        </Card>

        <div class="column-footer solution-footer">
          <p class="footer-text">
            <strong>Result:</strong> When attackers enter, <strong>their digital life ends</strong>.
            Intelligence captured. Justice accelerated.
          </p>
        </div>
      </div>

    </div>

    <!-- ═══════════════════════════════════════════════════════════ -->
    <!-- QUOTE (Spiritual + Scientific) -->
    <!-- ═══════════════════════════════════════════════════════════ -->
    <div class="section-quote">
      <blockquote>
        <p class="quote-text">
          "We don't imitate nature. We <strong>recreate</strong> it.
          Not as metaphor, but as <em>measurable reality</em>."
        </p>
        <cite class="quote-attribution">
          — VÉRTICE-MAXIMUS Design Philosophy
        </cite>
      </blockquote>
    </div>

  </div>
</section>

<style>
  /* ═══════════════════════════════════════════════════════════════ */
  /* PROBLEM → SOLUTION SECTION */
  /* ═══════════════════════════════════════════════════════════════ */

  .problem-solution {
    background: linear-gradient(
      to bottom,
      var(--color-white) 0%,
      var(--color-bg-primary) 50%,
      var(--color-white) 100%
    );
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* SECTION HEADER */
  /* ═══════════════════════════════════════════════════════════════ */

  .section-header {
    text-align: center;
    margin-bottom: var(--space-16);
  }

  .section-title {
    font-size: var(--text-4xl);
    font-weight: var(--font-bold);
    color: var(--color-text-primary);
    margin-top: var(--space-4);
    margin-bottom: var(--space-4);
  }

  .section-description {
    font-size: var(--text-xl);
    color: var(--color-text-secondary);
    max-width: 600px;
    margin: 0 auto;
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* COMPARISON GRID (2 colunas + divider) */
  /* ═══════════════════════════════════════════════════════════════ */

  .comparison-grid {
    display: grid;
    grid-template-columns: 1fr auto 1fr;
    gap: var(--space-8);
    align-items: start;
    margin-bottom: var(--space-16);
  }

  @media (max-width: 1024px) {
    .comparison-grid {
      grid-template-columns: 1fr;
      gap: var(--space-12);
    }

    .divider-column {
      display: none; /* Hide divider on mobile */
    }
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* COLUMNS (Problem & Solution) */
  /* ═══════════════════════════════════════════════════════════════ */

  .comparison-column {
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .column-header {
    text-align: center;
    padding: var(--space-6);
    border-radius: var(--radius-lg);
  }

  /* Problem column: faded, de-emphasized */
  .problem-column .column-header {
    background-color: var(--color-bg-tertiary);
    color: var(--color-text-tertiary);
  }

  /* Solution column: highlighted, emphasized */
  .solution-column .column-header {
    background: linear-gradient(
      135deg,
      var(--color-accent-light) 0%,
      var(--color-white) 100%
    );
    border: var(--border-width-2) solid var(--color-accent-primary);
  }

  .column-title {
    font-size: var(--text-2xl);
    font-weight: var(--font-bold);
    margin: var(--space-2) 0;
  }

  .problem-column .column-title {
    color: var(--color-text-secondary);
  }

  .solution-column .column-title {
    color: var(--color-accent-primary);
  }

  .column-subtitle {
    font-size: var(--text-base);
    font-weight: var(--font-medium);
    margin: 0;
  }

  .problem-column .column-subtitle {
    color: var(--color-text-tertiary);
  }

  .solution-column .column-subtitle {
    color: var(--color-text-primary);
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* COMPARISON CARDS */
  /* ═══════════════════════════════════════════════════════════════ */

  .comparison-card {
    flex: 1;
    min-height: 500px;
  }

  .solution-card {
    background: var(--color-white);
    border: var(--border-width) solid var(--color-accent-primary);
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* PROBLEM & SOLUTION LISTS */
  /* ═══════════════════════════════════════════════════════════════ */

  .problem-list,
  .solution-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: var(--space-6);
  }

  .problem-item,
  .solution-item {
    display: flex;
    align-items: flex-start;
    gap: var(--space-3);
    padding: var(--space-4);
    border-radius: var(--radius-md);
    transition: all var(--duration-normal) var(--ease-out);
  }

  /* Problem items: subtle, de-emphasized */
  .problem-item {
    background-color: var(--color-bg-secondary);
    color: var(--color-text-tertiary);
  }

  .problem-item :global(svg) {
    color: var(--color-error);
    flex-shrink: 0;
    margin-top: 2px;
  }

  /* Solution items: highlighted */
  .solution-item {
    background-color: var(--color-accent-light);
    border-left: 3px solid var(--color-accent-primary);
  }

  .solution-item :global(svg) {
    color: var(--color-accent-primary);
    flex-shrink: 0;
    margin-top: 2px;
  }

  .solution-item:hover {
    background-color: var(--color-white);
    transform: translateX(4px);
  }

  .item-content strong {
    display: block;
    font-size: var(--text-base);
    font-weight: var(--font-semibold);
    color: var(--color-text-primary);
    margin-bottom: var(--space-1);
  }

  .problem-item .item-content strong {
    color: var(--color-text-secondary);
  }

  .item-content p {
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    margin: 0;
    color: var(--color-text-secondary);
  }

  .problem-item .item-content p {
    color: var(--color-text-tertiary);
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* COLUMN FOOTERS */
  /* ═══════════════════════════════════════════════════════════════ */

  .column-footer {
    padding: var(--space-4);
    border-radius: var(--radius-md);
    text-align: center;
  }

  .problem-column .column-footer {
    background-color: var(--color-bg-tertiary);
  }

  .solution-footer {
    background: linear-gradient(
      135deg,
      var(--color-accent-primary) 0%,
      var(--color-accent-hover) 100%
    );
    color: var(--color-white);
  }

  .footer-text {
    font-size: var(--text-base);
    margin: 0;
  }

  .problem-column .footer-text {
    color: var(--color-text-secondary);
  }

  .solution-footer .footer-text strong {
    color: var(--color-white);
    text-decoration: underline;
    text-decoration-color: rgba(255, 255, 255, 0.5);
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* DIVIDER (vertical separator com seta) */
  /* ═══════════════════════════════════════════════════════════════ */

  .divider-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: var(--space-4);
    padding: var(--space-8) 0;
  }

  .divider-line {
    width: 2px;
    flex: 1;
    background: linear-gradient(
      to bottom,
      transparent 0%,
      var(--color-border) 50%,
      transparent 100%
    );
  }

  .divider-icon {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    background-color: var(--color-accent-primary);
    color: var(--color-white);
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 0 24px rgba(16, 163, 127, 0.3);
    animation: pulse 2s ease-in-out infinite;
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1);
      box-shadow: 0 0 24px rgba(16, 163, 127, 0.3);
    }
    50% {
      transform: scale(1.05);
      box-shadow: 0 0 32px rgba(16, 163, 127, 0.5);
    }
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* SECTION QUOTE (Spiritual + Scientific) */
  /* ═══════════════════════════════════════════════════════════════ */

  .section-quote {
    max-width: 800px;
    margin: 0 auto;
    padding: var(--space-12);
    background: linear-gradient(
      135deg,
      var(--color-white) 0%,
      var(--color-bg-primary) 100%
    );
    border-left: 4px solid var(--color-accent-primary);
    border-radius: var(--radius-lg);
  }

  .quote-text {
    font-size: var(--text-2xl);
    font-weight: var(--font-normal);
    line-height: var(--leading-relaxed);
    color: var(--color-text-primary);
    margin: 0 0 var(--space-4) 0;
    font-style: italic;
  }

  .quote-text strong {
    font-weight: var(--font-bold);
    color: var(--color-accent-primary);
    font-style: normal;
  }

  .quote-text em {
    font-style: italic;
    color: var(--color-text-secondary);
  }

  .quote-attribution {
    display: block;
    font-size: var(--text-base);
    color: var(--color-text-tertiary);
    font-style: normal;
    font-weight: var(--font-medium);
  }

  /* ═══════════════════════════════════════════════════════════════ */
  /* RESPONSIVE */
  /* ═══════════════════════════════════════════════════════════════ */

  @media (min-width: 768px) {
    .section-title {
      font-size: var(--text-5xl);
    }

    .quote-text {
      font-size: var(--text-3xl);
    }
  }

  @media (max-width: 640px) {
    .comparison-card {
      min-height: auto;
    }

    .problem-item,
    .solution-item {
      flex-direction: column;
      gap: var(--space-2);
    }

    .quote-text {
      font-size: var(--text-xl);
    }
  }
</style>
