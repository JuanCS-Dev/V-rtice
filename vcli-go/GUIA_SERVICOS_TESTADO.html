<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>V√©rtice - Servi√ßos Testados (IP Intel, NMAP, OSINT)</title>
    <style>
        @media print {
            body { margin: 0.8cm; font-family: monospace; font-size: 9pt; }
            h1 { font-size: 14pt; border-bottom: 2px solid black; page-break-after: avoid; }
            h2 { font-size: 11pt; background: #ddd; padding: 3px; page-break-after: avoid; }
            h3 { font-size: 10pt; margin: 4px 0 2px 0; }
            pre { background: #f5f5f5; padding: 3px; margin: 2px 0; border: 1px solid #ccc; font-size: 8pt; page-break-inside: avoid; }
            code { background: #f5f5f5; padding: 1px 2px; }
            table { width: 100%; border-collapse: collapse; margin: 3px 0; font-size: 8pt; page-break-inside: avoid; }
            td, th { border: 1px solid black; padding: 2px; }
            th { background: #ddd; font-weight: bold; }
            .box { border: 2px solid black; padding: 4px; margin: 4px 0; background: #f9f9f9; page-break-inside: avoid; }
            .success { color: green; font-weight: bold; }
        }
    </style>
</head>
<body>

<h1>üõ°Ô∏è V√©rtice - Guia de Servi√ßos Testados ‚úÖ</h1>

<div class="box">
<strong>Status:</strong> <span class="success">‚úÖ TODOS OS SERVI√áOS TESTADOS E FUNCIONANDO!</span><br>
<strong>Data:</strong> 2025-10-24<br>
<strong>Comandos:</strong> Testados e validados com curl
</div>

<h2>üìä PORTAS CORRETAS (TESTADAS)</h2>
<table>
<tr><th>Servi√ßo</th><th>Porta Host</th><th>Container</th><th>Status</th></tr>
<tr><td>IP Intelligence</td><td><strong>8105</strong></td><td>vertice-ip-intel</td><td class="success">‚úÖ Working</td></tr>
<tr><td>NMAP Scanner</td><td><strong>8106</strong></td><td>vertice-nmap</td><td class="success">‚úÖ Working</td></tr>
<tr><td>OSINT</td><td><strong>8036</strong></td><td>vertice-osint</td><td class="success">‚úÖ Working</td></tr>
<tr><td>Active Immune</td><td><strong>8200</strong></td><td>active-immune-core</td><td class="success">‚úÖ Running</td></tr>
<tr><td>MAXIMUS Core</td><td><strong>8150</strong></td><td>maximus-core</td><td class="success">‚úÖ Running</td></tr>
<tr><td>MAXIMUS Eureka</td><td><strong>9103</strong></td><td>vertice-maximus_eureka</td><td class="success">‚úÖ Running</td></tr>
</table>

<h2>üöÄ QUICK START</h2>

<h3>Iniciar Servi√ßos</h3>
<pre>docker start vertice-ip-intel vertice-nmap vertice-osint</pre>

<h3>Verificar Status</h3>
<pre>curl http://localhost:8105/health  # IP Intel
curl http://localhost:8106/health  # NMAP
curl http://localhost:8036/health  # OSINT</pre>

<h2>1. IP INTELLIGENCE (Porta 8105) ‚úÖ</h2>

<h3>Health Check</h3>
<pre>curl http://localhost:8105/health</pre>

<h3>Query IP (Testado)</h3>
<pre>curl -X POST http://localhost:8105/api/v1/query \
  -H "Content-Type: application/json" \
  -d '{"ip": "8.8.8.8"}'</pre>

<h3>Lookup Completo</h3>
<pre>curl -X POST http://localhost:8105/api/v1/lookup \
  -H "Content-Type: application/json" \
  -d '{
    "ip": "1.1.1.1",
    "include_threat_intel": true,
    "include_geolocation": true
  }'</pre>

<h3>M√∫ltiplos IPs</h3>
<pre>curl -X POST http://localhost:8105/api/v1/bulk-query \
  -H "Content-Type: application/json" \
  -d '{
    "ips": ["8.8.8.8", "1.1.1.1", "208.67.222.222"]
  }'</pre>

<h2>2. NMAP SCANNER (Porta 8106) ‚úÖ</h2>

<h3>Health Check</h3>
<pre>curl http://localhost:8106/health</pre>

<h3>Quick Scan (Testado)</h3>
<pre>curl -X POST http://localhost:8106/api/v1/scan \
  -H "Content-Type: application/json" \
  -d '{
    "target": "127.0.0.1",
    "scan_type": "quick"
  }'

# Response: {"scan_id": "abc-123", "status": "running"}</pre>

<h3>Full Scan</h3>
<pre>curl -X POST http://localhost:8106/api/v1/scan \
  -H "Content-Type: application/json" \
  -d '{
    "target": "192.168.1.1",
    "scan_type": "full",
    "options": ["-sV", "-O"]
  }'</pre>

<h3>Ver Resultados</h3>
<pre># Pegar o scan_id da resposta anterior
curl http://localhost:8106/api/v1/scan/abc-123</pre>

<h3>Listar Scans</h3>
<pre>curl http://localhost:8106/api/v1/scans</pre>

<h3>Tipos de Scan Dispon√≠veis</h3>
<table>
<tr><th>Tipo</th><th>Descri√ß√£o</th><th>Velocidade</th></tr>
<tr><td>quick</td><td>Top 100 ports</td><td>~10s</td></tr>
<tr><td>full</td><td>Todas as 65535 ports</td><td>~5min</td></tr>
<tr><td>port_scan</td><td>Portas espec√≠ficas</td><td>~30s</td></tr>
<tr><td>stealth</td><td>SYN scan furtivo</td><td>~2min</td></tr>
<tr><td>aggressive</td><td>Detec√ß√£o OS + version</td><td>~3min</td></tr>
</table>

<h2>3. OSINT SERVICE (Porta 8036) ‚úÖ</h2>

<h3>Health Check</h3>
<pre>curl http://localhost:8036/health</pre>

<h3>Domain Intelligence</h3>
<pre>curl -X POST http://localhost:8036/api/v1/gather \
  -H "Content-Type: application/json" \
  -d '{
    "target": "example.com",
    "sources": ["whois", "dns", "subdomain"],
    "depth": "deep"
  }'</pre>

<h3>Email Search</h3>
<pre>curl -X POST http://localhost:8036/api/v1/email-search \
  -H "Content-Type: application/json" \
  -d '{
    "email": "test@example.com",
    "include_breaches": true
  }'</pre>

<h3>Person Search</h3>
<pre>curl -X POST http://localhost:8036/api/v1/person-search \
  -H "Content-Type: application/json" \
  -d '{
    "name": "John Doe",
    "location": "Brazil",
    "sources": ["linkedin", "twitter"]
  }'</pre>

<h3>Subdomain Enumeration</h3>
<pre>curl -X POST http://localhost:8036/api/v1/subdomains \
  -H "Content-Type: application/json" \
  -d '{
    "domain": "example.com",
    "passive": true,
    "active": false
  }'</pre>

<h2>4. WORKFLOWS PR√ÅTICOS</h2>

<h3>Workflow 1: Reconhecimento Completo de IP</h3>
<pre># Passo 1: Threat intel do IP
curl -X POST http://localhost:8105/api/v1/lookup \
  -H "Content-Type: application/json" \
  -d '{"ip": "192.168.1.100", "include_threat_intel": true}'

# Passo 2: Scan de portas
curl -X POST http://localhost:8106/api/v1/scan \
  -H "Content-Type: application/json" \
  -d '{"target": "192.168.1.100", "scan_type": "full"}'

# Passo 3: Se tiver dom√≠nio, fazer OSINT
curl -X POST http://localhost:8036/api/v1/gather \
  -H "Content-Type: application/json" \
  -d '{"target": "example.com", "sources": ["whois", "dns"]}'</pre>

<h3>Workflow 2: Scan de Subnet</h3>
<pre># Scan r√°pido de toda subnet
curl -X POST http://localhost:8106/api/v1/scan \
  -H "Content-Type: application/json" \
  -d '{
    "target": "192.168.1.0/24",
    "scan_type": "quick"
  }'

# Para cada IP ativo, fazer threat intel
for ip in $(get_active_ips); do
  curl -X POST http://localhost:8105/api/v1/query \
    -H "Content-Type: application/json" \
    -d "{\"ip\": \"$ip\"}"
done</pre>

<h3>Workflow 3: Investiga√ß√£o de Dom√≠nio</h3>
<pre># 1. WHOIS + DNS
curl -X POST http://localhost:8036/api/v1/gather \
  -H "Content-Type: application/json" \
  -d '{
    "target": "example.com",
    "sources": ["whois", "dns", "subdomain"]
  }'

# 2. Para cada IP encontrado, fazer scan
curl -X POST http://localhost:8106/api/v1/scan \
  -H "Content-Type: application/json" \
  -d '{"target": "<ip-do-domain>", "scan_type": "full"}'

# 3. Buscar emails associados
curl -X POST http://localhost:8036/api/v1/email-search \
  -H "Content-Type: application/json" \
  -d '{"email": "admin@example.com"}'</pre>

<h2>5. SCRIPTS √öTEIS</h2>

<h3>Script: Scan M√∫ltiplos IPs</h3>
<pre>#!/bin/bash
# scan_multiple.sh
IPS=("192.168.1.1" "192.168.1.2" "192.168.1.3")

for ip in "${IPS[@]}"; do
  echo "Scanning $ip..."
  curl -X POST http://localhost:8106/api/v1/scan \
    -H "Content-Type: application/json" \
    -d "{\"target\": \"$ip\", \"scan_type\": \"quick\"}"
  sleep 2
done</pre>

<h3>Script: IP Intelligence Bulk</h3>
<pre>#!/bin/bash
# check_ips.sh
cat ips.txt | while read ip; do
  echo "Checking $ip..."
  curl -X POST http://localhost:8105/api/v1/query \
    -H "Content-Type: application/json" \
    -d "{\"ip\": \"$ip\"}" | jq .
done</pre>

<h3>Script: Monitor Scans Ativos</h3>
<pre>#!/bin/bash
# monitor_scans.sh
watch -n 5 'curl -s http://localhost:8106/api/v1/scans | jq'</pre>

<h2>6. ALIASES RECOMENDADOS</h2>

<p>Adicione ao <code>~/.bashrc</code>:</p>
<pre># Servi√ßos Standalone - Portas Corretas
alias ipintel='curl -X POST http://localhost:8105/api/v1/query -H "Content-Type: application/json" -d'
alias nmap-scan='curl -X POST http://localhost:8106/api/v1/scan -H "Content-Type: application/json" -d'
alias osint-gather='curl -X POST http://localhost:8036/api/v1/gather -H "Content-Type: application/json" -d'

# Health checks
alias check-services='curl -s http://localhost:8105/health && curl -s http://localhost:8106/health && curl -s http://localhost:8036/health'

# Docker management
alias start-recon='docker start vertice-ip-intel vertice-nmap vertice-osint'
alias stop-recon='docker stop vertice-ip-intel vertice-nmap vertice-osint'
alias logs-nmap='docker logs vertice-nmap --tail 50 -f'

# Quick actions
alias quick-ip='ipintel "{\"ip\": \"$1\"}"'
alias quick-scan='nmap-scan "{\"target\": \"$1\", \"scan_type\": \"quick\"}"'</pre>

<h3>Uso dos Aliases</h3>
<pre># Check IP
quick-ip 8.8.8.8

# Scan r√°pido
quick-scan 192.168.1.1

# Ver status
check-services</pre>

<h2>7. INTEGRA√á√ÉO COM VCLI (Futuro)</h2>

<p>Comandos que ser√£o integrados ao vcli:</p>
<pre># IP Intelligence
vcli intel ip 8.8.8.8
vcli intel bulk ips.txt

# NMAP
vcli scan quick 192.168.1.1
vcli scan full 192.168.1.0/24
vcli scan results &lt;scan-id&gt;

# OSINT
vcli osint domain example.com
vcli osint email test@example.com
vcli osint person "John Doe"</pre>

<h2>üîß TROUBLESHOOTING</h2>

<h3>Servi√ßo n√£o responde</h3>
<pre># Verificar container
docker ps | grep vertice-ip-intel

# Ver logs
docker logs vertice-ip-intel --tail 50

# Reiniciar
docker restart vertice-ip-intel

# Verificar porta
docker port vertice-ip-intel</pre>

<h3>Scan travando</h3>
<pre># Ver scans ativos
curl http://localhost:8106/api/v1/scans

# Cancelar scan
curl -X DELETE http://localhost:8106/api/v1/scan/&lt;scan-id&gt;</pre>

<h3>Erro de JSON</h3>
<pre># Use jq para formatar
curl http://localhost:8105/health | jq

# Ou python
curl http://localhost:8105/health | python3 -m json.tool</pre>

<h2>üìù EXEMPLOS TESTADOS</h2>

<h3>Teste 1: IP Google DNS ‚úÖ</h3>
<pre>curl -X POST http://localhost:8105/api/v1/query \
  -H "Content-Type: application/json" \
  -d '{"ip": "8.8.8.8"}'

# Resultado esperado: reputation=clean, country=US</pre>

<h3>Teste 2: Scan Localhost ‚úÖ</h3>
<pre>curl -X POST http://localhost:8106/api/v1/scan \
  -H "Content-Type: application/json" \
  -d '{"target": "127.0.0.1", "scan_type": "quick"}'

# Retorna: scan_id, status=running</pre>

<h3>Teste 3: Health Checks ‚úÖ</h3>
<pre>curl http://localhost:8105/health  # {"status": "healthy"}
curl http://localhost:8106/health  # {"status": "healthy"}
curl http://localhost:8036/health  # {"status": "healthy"}</pre>

<div class="box">
<strong>üéâ TODOS OS SERVI√áOS TESTADOS E FUNCIONANDO!</strong><br>
Arquivos salvos em: <code>/home/juan/vertice-dev/vcli-go/</code>
</div>

<hr>
<p style="text-align: center; font-size: 8pt;">
<strong>V√©rtice Services - Guia Testado</strong> | IP: 8105, NMAP: 8106, OSINT: 8036 | 2025-10-24
</p>

</body>
</html>
